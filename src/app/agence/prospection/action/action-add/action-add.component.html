<div class="modal-header">
    <h5 class="modal-title">{{title}}</h5>
    <button type="button" class="close basic-close" data-dismiss="modal" aria-label="Close"
      (click)="onClose()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <form autocomplete="off" [formGroup]="form" (ngSubmit)="onConfirme()">
    <div class="modal-body">
    
      <div class="col-md-12">
        <div class="row">
          <span class="badge badge-primary my-2 f-14 width"> INFORMATION SUR L'ACTION COMMERÇIALE </span>
        </div>
        <div class="form-group">
          <div class="row mb-2">
       
            <div class="col-md-6">
                <label for="type">Type d' action commerçiale<span class="asterix mr-2">*</span></label>
                <ng-select    formControlName="type" class="form-control" id="action" [(ngModel)]="actionSelected" >
                    <ng-option *ngFor="let item of typeRow" [value]="item.value">{{item.label}}</ng-option>
                </ng-select>
            </div>
            <div class="col-md-6">
                <label for="type">Prospect<span class="asterix mr-2">*</span></label>
                <ng-select    formControlName="prospect" class="form-control" id="prospect" [(ngModel)]="prospectSelected" >
                    <ng-option *ngFor="let item of prospectsRow" [value]="item.uuid">{{item.nom}}</ng-option>
                </ng-select>
            </div>
            <div class="col-md-12 mt-2">
                <div class="form-group">
                    <label for="objet">Objet</label>
                    <input type="text" class="form-control" formControlName="objet" id="objet" placeholder="Objet"
                    [ngClass]="{ 'is-invalid': submit && f.objet.errors, 'is-valid': submit && f.objet.valid }">
                    <div class="invalid-feedback" *ngIf="submit && f.objet.errors">
                        <div *ngIf="f.objet.errors.required">{{required.novide}}</div>
                    </div>
                </div>            
            </div>
            <div class="col-md-12">
              <app-tinymce  formControlName="description" id="description" #tinymce='tinymce' aria-placeholder="Contenu du message"></app-tinymce>
              <div class="invalid-feedback" *ngIf="submit && f.description.errors">
                <div *ngIf="f.description.errors.required">{{required.novide}}</div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <div class="row mb-2">
              <div class="col-md">
                <label>Pièces et documents à joindre</label>
                <app-folder-uploader
                  [maxSize]="3"
                  (filesd)="files($event)"
                  (filesUploaded)="setParam('folderUuid',$event)"
                  [path]="'demande'"
                  [etat]="edit ? 'edit': 'add'"
                  [folder]="edit && fundRequest ? fundRequest?.folder : null">
                </app-folder-uploader>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button (click)="onClose()" type="button" class="btn btn-secondary text-left" data-dismiss="modal">
        Fermer <i class="feather icon-x-circle"></i>
      </button>
      <button (click)="onReset()" type="button" class="btn btn-warning">
        Vider <i class="fas fa-broom"></i>
      </button>
      <button [disabled]="form.invalid" type="submit" class="btn btn-primary">
        Enregistrer <i class="feather icon-save"></i>
      </button>
    </div>
  </form>
  